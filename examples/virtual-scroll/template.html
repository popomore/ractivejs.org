<!-- General purpose, reusable infinite scroll template -->

<p class='status'>Posts in stream: <strong>{{allPosts.length}}</strong> / in DOM: <strong>{{renderedPosts.length}}</strong></p>

{{#newer.length}}
	<a class='newer' on-tap='showNewer' intro='slide'>
		Show {{newer.length}} new {{ newer.length === 1 ? "post" : "posts" }}
	</a>
{{/newer.length}}

<div class='scroller' on-scroll='scroll'>
	<div class='stream'>
		<div class='before' style='height: {{paddingBefore}}px;'></div>

		<ul class='renderedPosts' style='padding: 0 0 {{paddingAfter}}px 0;'>
			{{#renderedPosts}}
				{{>post}}
			{{/renderedPosts}}
		</ul>

		<!--<div class='after' style='height: {{paddingAfter}}px;'></div>-->

		<span class='positionHelper'></span>

		<ul class='staging'>
			{{#staging}}
				{{>post}}
			{{/staging}}
		</ul>

		<div class='buffer'></div>
	</div>

	
</div>

{{#error}}
	<p class='error'>{{errorMessage}}</p>
{{/error}}

{{>footer}}



<!-- App-specific partials -->

<!-- {{>post}} -->
<li class='post'>
	<img intro='fade' class='avatar' src='{{user.avatar_image.url}}'>
	<span intro='fade' class='author'>{{user.username}}</span>
	<div intro='fade' class='post-content'>{{{html}}}</div>
</li>
<!-- {{/post}} -->

<!-- {{>footer}} -->
<p class='source'>Data via the <a href='http://developers.app.net/'>App.net API</a></p>
<!-- {{/footer}} -->